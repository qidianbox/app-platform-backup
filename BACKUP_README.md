# APP中台管理系统 - 备份说明文档

**备份时间**: 2026年1月11日  
**备份作者**: Manus AI  
**GitHub仓库**: https://github.com/qidianbox/app-platform-backup

---

## 项目概述

APP中台管理系统是一个基于 **Vue 3 + Go** 架构的企业级应用管理平台，提供统一的APP管理、用户管理、配置管理、监控告警等功能。本文档记录了项目的完整备份信息和恢复指南。

---

## 备份内容

### 代码备份

所有项目代码已成功推送到GitHub仓库，包括：

| 目录 | 说明 | 文件数 |
|------|------|--------|
| `frontend/` | Vue 3前端代码 | 包含所有页面、组件、路由配置 |
| `backend/` | Go后端代码 | 包含API接口、数据库模型、业务逻辑 |
| `docs/` | 项目文档 | 包含测试用例、API文档等 |
| `tests/` | 测试文件 | 包含功能测试报告 |

### 数据库信息

数据库配置信息已保存在 `DATABASE_INFO.md` 文件中，包含完整的连接配置和表结构说明。

**数据库类型**: MySQL 8.0 (阿里云RDS)  
**数据库名**: app_platform  
**主要数据表**: apps, users, modules, configs, logs, audit_logs, messages, push_records, versions

> **注意**: 由于数据库位于阿里云RDS内网，无法直接从外网导出。建议通过阿里云控制台进行数据备份。

---

## 技术栈

### 前端技术

- **框架**: Vue 3.x + Composition API
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router 4
- **HTTP客户端**: Axios
- **构建工具**: Vite

### 后端技术

- **语言**: Go 1.21+
- **Web框架**: Gin
- **ORM**: GORM
- **数据库**: MySQL 8.0
- **缓存**: Redis
- **认证**: JWT

---

## 项目结构

```
app-platform/
├── frontend/                 # 前端项目
│   ├── src/
│   │   ├── views/           # 页面组件
│   │   ├── components/      # 公共组件
│   │   ├── router/          # 路由配置
│   │   ├── store/           # 状态管理
│   │   ├── api/             # API接口
│   │   └── utils/           # 工具函数
│   ├── package.json
│   └── vite.config.js
├── backend/                  # 后端项目
│   ├── api/                 # API接口
│   ├── models/              # 数据模型
│   ├── services/            # 业务逻辑
│   ├── middleware/          # 中间件
│   ├── configs/             # 配置文件
│   ├── utils/               # 工具函数
│   ├── go.mod
│   └── main.go
├── docs/                     # 文档目录
├── tests/                    # 测试目录
├── DATABASE_INFO.md          # 数据库信息
└── BACKUP_README.md          # 本文档
```

---

## 功能模块

系统包含以下核心功能模块：

### 1. 仪表盘

提供系统整体数据概览，包括APP总数、用户总数、今日新增、活跃APP等关键指标，以及用户增长趋势图和APP使用统计图表。

### 2. APP管理

- APP列表展示和搜索
- 创建、编辑、删除APP
- APP配置管理
- APP模块管理
- 密钥管理

### 3. 模块管理

系统提供11个功能模块：

| 模块名称 | 功能数量 | 主要功能 |
|---------|---------|---------|
| 配置管理 | 5 | 配置列表、创建配置、更新配置、发布配置、配置历史 |
| 埋点服务 | 6 | 事件上报、批量上报、事件列表、事件统计、漏斗分析、事件定义 |
| 文件存储 | 5 | 文件上传、文件下载、文件列表、文件删除、存储统计 |
| 日志服务 | 5 | 日志列表、上报日志、日志统计、导出日志、日志清理 |
| 消息中心 | 6 | 发送消息、消息列表、消息模板、未读统计、标记已读、批量发送 |
| 监控服务 | 5 | 上报指标、监控指标、告警管理、监控统计、健康检查 |
| 推送服务 | 6 | 创建推送、发送推送、推送列表、推送统计、推送模板、取消推送 |
| 用户管理 | 4 | 用户列表、用户详情、用户状态管理、用户统计 |
| 版本管理 | 6 | 版本列表、创建版本、发布版本、下线版本、更新检查、版本统计 |
| WebSocket服务 | 3 | WebSocket连接、监控数据推送、告警推送 |
| 审计日志 | 3 | 审计日志列表、审计统计、导出审计日志 |

### 4. 审计日志

记录系统所有操作日志，支持查询、统计和导出功能。

---

## 环境配置

### 前端环境

**开发环境**:
```bash
cd frontend
pnpm install
pnpm dev
```

**生产构建**:
```bash
pnpm build
```

**环境变量** (frontend/.env):
```
VITE_API_BASE_URL=http://localhost:8080/api/v1
```

### 后端环境

**开发环境**:
```bash
cd backend
go mod download
go run main.go
```

**生产构建**:
```bash
go build -o server main.go
./server
```

**配置文件** (backend/configs/config.yaml):
- 数据库配置
- Redis配置
- JWT配置
- CORS配置
- 文件上传配置

---

## 部署指南

### 前端部署

1. 构建生产版本: `pnpm build`
2. 将 `dist/` 目录部署到Web服务器（Nginx/Apache）
3. 配置反向代理指向后端API

### 后端部署

1. 编译Go程序: `go build -o server main.go`
2. 配置 `config.yaml` 文件
3. 启动服务: `./server`
4. 使用进程管理工具（systemd/supervisor）保持服务运行

### 数据库部署

1. 创建MySQL数据库
2. 执行数据库迁移脚本
3. 配置数据库连接信息
4. 设置定期备份任务

---

## 恢复指南

### 代码恢复

```bash
# 克隆仓库
git clone https://github.com/qidianbox/app-platform-backup.git
cd app-platform-backup

# 安装前端依赖
cd frontend
pnpm install

# 安装后端依赖
cd ../backend
go mod download
```

### 数据库恢复

1. 登录阿里云RDS控制台
2. 选择对应的数据库实例
3. 使用备份恢复功能恢复数据
4. 或通过内网ECS实例导入SQL备份文件

### 配置恢复

1. 复制 `backend/configs/config.yaml.example` 为 `config.yaml`
2. 根据 `DATABASE_INFO.md` 配置数据库连接
3. 配置Redis、JWT等其他服务
4. 更新CORS允许的域名

---

## 测试状态

系统已完成基础功能测试，测试报告保存在 `tests/test_report.md`。

**已测试模块**:
- ✅ 登录功能 - 正常
- ✅ 仪表盘显示 - 正常
- ✅ APP列表和配置 - 正常
- ✅ 模块管理 - 正常

**待测试模块**:
- ⏳ 工作台各子模块详细功能
- ⏳ 配置中心完整流程
- ⏳ 移动端响应式适配
- ⏳ 系统回归测试

---

## 安全建议

### 配置安全

1. **敏感信息**: 将数据库密码、JWT密钥等敏感信息移至环境变量
2. **CORS配置**: 限制允许的域名，避免使用通配符
3. **IP白名单**: 在阿里云RDS配置IP白名单，限制数据库访问
4. **SSL/TLS**: 启用HTTPS和数据库SSL连接

### 代码安全

1. **依赖更新**: 定期更新前后端依赖包，修复安全漏洞
2. **代码审计**: 定期进行代码安全审计
3. **输入验证**: 加强用户输入验证，防止SQL注入和XSS攻击
4. **权限控制**: 完善RBAC权限控制系统

### 运维安全

1. **日志审计**: 启用详细的操作日志和审计日志
2. **备份策略**: 设置自动备份，保留多个备份版本
3. **监控告警**: 配置系统监控和异常告警
4. **访问控制**: 使用VPN或堡垒机访问生产环境

---

## 维护建议

### 日常维护

- **每日**: 检查系统日志，监控服务状态
- **每周**: 检查数据库性能，清理过期日志
- **每月**: 更新依赖包，执行安全扫描
- **每季度**: 数据库优化，系统性能测试

### 备份策略

- **代码**: 每次重要更新后推送到GitHub
- **数据库**: 每日自动备份，保留30天
- **配置文件**: 版本控制管理，记录变更历史
- **日志文件**: 定期归档，保留6个月

---

## 联系信息

**项目负责人**: [待填写]  
**技术支持**: [待填写]  
**GitHub仓库**: https://github.com/qidianbox/app-platform-backup

---

## 更新日志

### 2026-01-11

- ✅ 完成项目代码备份到GitHub
- ✅ 创建数据库配置说明文档
- ✅ 完成基础功能测试
- ✅ 生成备份说明文档

---

**文档版本**: 1.0  
**最后更新**: 2026年1月11日  
**文档作者**: Manus AI
